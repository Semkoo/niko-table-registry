{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "data-table-aside",
  "title": "DataTable Aside",
  "description": "Sidebar panel component for displaying row details or additional content alongside the table.",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [
    "https://niko-table.com/r/data-table.json"
  ],
  "files": [
    {
      "path": "src/components/niko-table/components/data-table-aside.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { XIcon } from \"lucide-react\"\nimport { cn } from \"@/lib/utils\"\n\ninterface DataTableAsideContextValue {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  side: \"left\" | \"right\"\n}\n\nconst DataTableAsideContext = React.createContext<\n  DataTableAsideContextValue | undefined\n>(undefined)\n\nfunction useDataTableAside() {\n  const context = React.useContext(DataTableAsideContext)\n  if (!context) {\n    throw new Error(\n      \"DataTableAside components must be used within DataTableAside\",\n    )\n  }\n  return context\n}\n\ninterface DataTableAsideProps {\n  children: React.ReactNode\n  side?: \"left\" | \"right\"\n  open?: boolean\n  onOpenChange?: (open: boolean) => void\n  defaultOpen?: boolean\n}\n\nfunction DataTableAside({\n  children,\n  side = \"right\",\n  open: controlledOpen,\n  onOpenChange: controlledOnOpenChange,\n  defaultOpen = false,\n}: DataTableAsideProps) {\n  const [internalOpen, setInternalOpen] = React.useState(defaultOpen)\n\n  const open = controlledOpen ?? internalOpen\n  const onOpenChange = controlledOnOpenChange ?? setInternalOpen\n\n  /**\n   * PERFORMANCE: Memoize context value to prevent unnecessary consumer re-renders\n   *\n   * WHY: Without memoization, a new context value object is created on every render.\n   * React Context uses Object.is() to compare values - new object = all consumers re-render.\n   *\n   * IMPACT: Prevents unnecessary re-renders of DataTableAsideTrigger, DataTableAsideContent, etc.\n   * when aside state hasn't changed.\n   *\n   * WHAT: Only creates new context value when open, onOpenChange, or side actually change.\n   */\n  const contextValue = React.useMemo<DataTableAsideContextValue>(\n    () => ({\n      open,\n      onOpenChange,\n      side,\n    }),\n    [open, onOpenChange, side],\n  )\n\n  return (\n    <DataTableAsideContext.Provider value={contextValue}>\n      {children}\n    </DataTableAsideContext.Provider>\n  )\n}\n\nDataTableAside.displayName = \"DataTableAside\"\n\ninterface DataTableAsideTriggerProps extends React.ComponentPropsWithoutRef<\"button\"> {\n  asChild?: boolean\n  children?: React.ReactNode\n}\n\nfunction DataTableAsideTrigger({\n  className,\n  asChild = false,\n  children,\n  ...props\n}: DataTableAsideTriggerProps) {\n  const { open, onOpenChange } = useDataTableAside()\n\n  if (asChild && React.isValidElement(children)) {\n    const childProps = children.props as {\n      onClick?: (e: React.MouseEvent) => void\n    }\n    return React.cloneElement(children, {\n      onClick: (e: React.MouseEvent) => {\n        onOpenChange(!open)\n        childProps.onClick?.(e)\n      },\n    } as Partial<unknown> & React.Attributes)\n  }\n\n  return (\n    <button\n      data-slot=\"aside-trigger\"\n      type=\"button\"\n      className={className}\n      onClick={() => onOpenChange(!open)}\n      {...props}\n    >\n      {children}\n    </button>\n  )\n}\n\nDataTableAsideTrigger.displayName = \"DataTableAsideTrigger\"\n\ninterface DataTableAsideContentProps extends React.ComponentPropsWithoutRef<\"aside\"> {\n  width?: string\n  sticky?: boolean\n}\n\nfunction DataTableAsideContent({\n  children,\n  className,\n  width = \"w-1/2\",\n  sticky = false,\n  ...props\n}: DataTableAsideContentProps) {\n  const { open, side } = useDataTableAside()\n\n  if (!open) return null\n\n  const slideAnimation =\n    side === \"left\" ? \"slide-in-from-left\" : \"slide-in-from-right\"\n\n  return (\n    <aside\n      data-slot=\"aside-content\"\n      className={cn(\n        \"shrink-0 animate-in\",\n        width,\n        slideAnimation,\n        sticky && \"sticky top-0\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </aside>\n  )\n}\n\nDataTableAsideContent.displayName = \"DataTableAsideContent\"\n\nfunction DataTableAsideHeader({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<\"div\">) {\n  return (\n    <div\n      data-slot=\"aside-header\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nDataTableAsideHeader.displayName = \"DataTableAsideHeader\"\n\nfunction DataTableAsideTitle({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<\"h3\">) {\n  return (\n    <h3\n      data-slot=\"aside-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nDataTableAsideTitle.displayName = \"DataTableAsideTitle\"\n\nfunction DataTableAsideDescription({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<\"p\">) {\n  return (\n    <p\n      data-slot=\"aside-description\"\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n}\n\nDataTableAsideDescription.displayName = \"DataTableAsideDescription\"\n\ninterface DataTableAsideCloseProps extends React.ComponentPropsWithoutRef<\"button\"> {\n  showIcon?: boolean\n}\n\nfunction DataTableAsideClose({\n  className,\n  showIcon = true,\n  children,\n  ...props\n}: DataTableAsideCloseProps) {\n  const { onOpenChange } = useDataTableAside()\n\n  return (\n    <button\n      data-slot=\"aside-close\"\n      type=\"button\"\n      className={cn(\n        \"rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\",\n        className,\n      )}\n      onClick={() => onOpenChange(false)}\n      {...props}\n    >\n      {showIcon && <XIcon className=\"size-4\" />}\n      {children}\n      {showIcon && !children && <span className=\"sr-only\">Close</span>}\n    </button>\n  )\n}\n\nDataTableAsideClose.displayName = \"DataTableAsideClose\"\n\nexport {\n  DataTableAside,\n  DataTableAsideTrigger,\n  DataTableAsideContent,\n  DataTableAsideHeader,\n  DataTableAsideTitle,\n  DataTableAsideDescription,\n  DataTableAsideClose,\n}\n",
      "type": "registry:component",
      "target": "components/niko-table/components/data-table-aside.tsx"
    }
  ],
  "type": "registry:component"
}